<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üéâ Happy Birthday Toheeb üéâ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <style>
    body {
      background: linear-gradient(to bottom right,#ffecd2, #fcb69f);
      color: white;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      padding: 30px 15px;
      overflow-x: hidden;
    }
    h1 {
      font-size: 2.2rem;
      margin-bottom: 10px;
      font-weight: 600;
    }
    .countdown {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
    img {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 4px solid white;
    }
    .card {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 14px;
      backdrop-filter: blur(12px);
    }
    input, textarea {
      margin-bottom: 10px;
      font-family: 'Poppins', sans-serif;
    }
    .message-box {
      max-height: 300px;
      overflow-y: auto;
      margin-top: 20px;
    }
    .message-box div {
      background: rgba(255,255,255,0.15);
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 0.95rem;
    }
    footer {
      margin-top: 40px;
      font-size: 0.9rem;
      opacity: 0.8;
    }
  </style>
</head>
<body>

  <canvas id="confetti-canvas" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;"></canvas>

  <h1>üéâ Happy Birthday Toheeb üéâ</h1>
  <p> August 18</p>

  <img src="./assets/img/toheeb.jpg" alt="Birthday Picture" onerror="this.src='https://via.placeholder.com/150'; this.alt='image coming soon!'"/>

  <div class="countdown" id="countdown">Loading countdown...</div>
  <div class="fun-fact p-3 text-center text-white ">
  <h4>üéà Fun Birthday Fact</h4>
  <p id="birthdayFact"></p>
</div>

  <div class="card mx-auto" style="max-width: 400px;">
    <h5>Leave a Birthday Wish üéà</h5>
    <form id="wishForm">
      <input type="text" id="name" class="form-control" placeholder="Your Name" required />
      <textarea id="message" class="form-control" placeholder="Your Message" rows="3" required></textarea>
      <button class="btn btn-light mt-2 w-100" type="submit">Send Wish</button>
    </form>
  </div>



  <footer>
    <p>Made with ‚ù§Ô∏è by Toheeb/Aug 18</p>
  </footer>

  <!-- Countdown Script -->
  <script>
    const countdown = document.getElementById("countdown");
    const targetDate = new Date("2025-08-18T00:00:00").getTime();

    setInterval(() => {
      const now = new Date().getTime();
      const diff = targetDate - now;

      if (diff < 0) {
        countdown.innerText = "üéâ Happy Birthday üéâ";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      countdown.innerText = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }, 1000);
  </script>
<script>
  const facts = [
      "August is the most common birth month.",
   "August is the most common birth month in the U.S.",
  "More babies are born on August 18th than any other day of the year.",
  "People born in August are either Leos or Virgos ‚Äî both known for leadership.",
  "August birthstone is the peridot, symbolizing strength and protection.",
  "Those born in August tend to be optimistic and strong-willed.",
  "Studies show August babies are more likely to be confident and outgoing.",
  "In ancient Rome, August was named after Emperor Augustus Caesar.",
  "August-born people are often seen as natural leaders.",
  "August has more births than any other month ‚Äî you're in good company!",
  "The flower of August is the gladiolus, which symbolizes integrity and strength.",
  "If you‚Äôre born in August, you share a birth month with Barack Obama, Kobe Bryant, and Whitney Houston.",
  "Many August babies are left-handed, according to some studies.",
  "August babies are said to have excellent memory and intelligence.",
  "August-born children are more likely to become CEOs, according to UK research.",
  "Some cultures believe August births bring good luck and prosperity."
  ];

  const randomIndex = Math.floor(Math.random() * facts.length);
  document.getElementById("birthdayFact").textContent = facts[randomIndex];
</script>
  <!-- Wishes Script -->
  <script>
    document.getElementById("wishForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const message = document.getElementById("message").value.trim();

      const res = await fetch("https://birthday-backend-v2.onrender.com/api/messages", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, message })
      });

      if (res.ok) {
        document.getElementById("wishForm").reset();
        loadMessages();
      } else {
        alert("Something went wrong. Try again.");
      }
    });

    async function loadMessages() {
      try {
        const res = await fetch("https://birthday-backend-v2.onrender.com/api/messages");
        const data = await res.json();

        const box = document.getElementById("messages");
        box.innerHTML = "";
        data.reverse().forEach(msg => {
          const div = document.createElement("div");
          div.innerHTML = `<strong>${msg.name}</strong><br/>${msg.message}`;
          box.appendChild(div);
        });
      } catch (err) {
        console.error(err);
        document.getElementById("messages").innerText = "Could not load messages.";
      }
    }

    loadMessages();
  </script>

  <!-- Confetti Script -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    confetti({
      particleCount: 120,
      spread: 100,
      origin: { y: 0.6 }
    });
  </script>
</body>
</html>
